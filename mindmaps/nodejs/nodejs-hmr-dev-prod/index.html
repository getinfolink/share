<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.8.0/styles/default.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.2/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.2/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.2/dist/index.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Node.js Docker <br/>development environment <br/>with hot code reloading","children":[{"content":"Project Structure","children":[{"content":"\n<pre><code class=\"language-sh\">  project/\n  ├── app/\n  │   └── server.js\n  ├── docker-compose.yml\n  └── package.json\n</code></pre>","children":[],"payload":{"lines":"2,9"}}],"payload":{"lines":"1,2"}},{"content":"Source code (simple)","children":[{"content":"<code>app/server.js</code>","children":[{"content":"\n<pre><code class=\"language-js\">  <span class=\"hljs-comment\">// app/server.js</span>\n  <span class=\"hljs-keyword\">const</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'express'</span>);\n  <span class=\"hljs-keyword\">const</span> app = <span class=\"hljs-title function_\">express</span>();\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">PORT</span> = process.<span class=\"hljs-property\">env</span>.<span class=\"hljs-property\">PORT</span> || <span class=\"hljs-number\">1234</span>;\n\n  app.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">'/'</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">req, res</span>) =&gt;</span> {\n    res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">'Hello, Docker with hot reloading!'</span>);\n  });\n\n  app.<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-variable constant_\">PORT</span>, <span class=\"hljs-function\">() =&gt;</span> {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`Server running at http://localhost:<span class=\"hljs-subst\">${PORT}</span>`</span>);\n  });\n</code></pre>","children":[],"payload":{"lines":"11,25"}}],"payload":{"lines":"10,25"}},{"content":"package.json","children":[{"content":"\n<pre><code class=\"language-json\">  <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"name\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"docker-hot-reload-example\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"version\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"1.0.0\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"main\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"app/server.js\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"scripts\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"dev\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"nodemon app/server.js\"</span>\n    <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"dependencies\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"express\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"^4.17.1\"</span>\n    <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"devDependencies\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"nodemon\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"^2.0.22\"</span>\n    <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">}</span>\n</code></pre>","children":[],"payload":{"lines":"26,42"}}],"payload":{"lines":"25,42"}},{"content":"docker-compose.yml","children":[{"content":"\n<pre><code class=\"language-yaml\">  <span class=\"hljs-attr\">version:</span> <span class=\"hljs-string\">'3'</span>\n    <span class=\"hljs-attr\">services:</span>\n      <span class=\"hljs-attr\">app:</span>\n        <span class=\"hljs-attr\">image:</span> <span class=\"hljs-string\">node:18</span>\n        <span class=\"hljs-attr\">working_dir:</span> <span class=\"hljs-string\">/usr/src/app</span>\n        <span class=\"hljs-attr\">volumes:</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">.:/usr/src/app</span>  <span class=\"hljs-comment\"># Mounts the project for hot reloading</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">nodemodules:/usr/src/app/node_modules</span>  <span class=\"hljs-comment\"># Uses named volume for node_modules</span>\n        <span class=\"hljs-attr\">environment:</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">NODE_ENV=development</span>\n        <span class=\"hljs-attr\">command:</span> <span class=\"hljs-string\">bash</span> <span class=\"hljs-string\">-c</span> <span class=\"hljs-string\">\"npm install &amp;&amp; npm run dev\"</span>\n        <span class=\"hljs-attr\">ports:</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">\"1234:1234\"</span>  <span class=\"hljs-comment\"># Maps container port to localhost</span>\n\n    <span class=\"hljs-attr\">volumes:</span>\n      <span class=\"hljs-attr\">nodemodules:</span>\n        <span class=\"hljs-attr\">driver:</span> <span class=\"hljs-string\">local</span>  <span class=\"hljs-comment\"># Defines the named volume for node_modules</span>\n</code></pre>","children":[],"payload":{"lines":"43,63"}}],"payload":{"lines":"42,63"}}],"payload":{"lines":"9,10"}},{"content":"Docker volumes","children":[{"content":"\n<p data-lines=\"64,65\"><strong>What are Docker Volumes?</strong></p>","children":[{"content":"Docker volumes are <code>storage mechanisms</code> that:","children":[{"content":"Live on the host filesystem, <br>outside of the container's file system.","children":[],"payload":{"lines":"66,67"}},{"content":"Can persist data across container <code>reboots</code> or <code>deletions</code>.","children":[],"payload":{"lines":"67,68"}},{"content":"Enable you to <code>share data between containers</code>.","children":[],"payload":{"lines":"68,69"}},{"content":"<code>Support hot reloading</code>, <br>where changes to code or files <br>are reflected immediately in the running container.","children":[],"payload":{"lines":"69,71"}}],"payload":{"lines":"65,71"}}],"payload":{"lines":"64,71"}},{"content":"\n<p data-lines=\"71,72\"><strong>Types of Docker Volumes</strong></p>","children":[{"content":"<strong>Anonymous Volumes</strong>: Created automatically when you don’t specify a volume name.","children":[],"payload":{"lines":"72,73"}},{"content":"<strong>Named Volumes</strong>: Created with a specific name, allowing reuse across containers.","children":[],"payload":{"lines":"73,74"}},{"content":"<strong>Bind Mounts</strong>: Directly map a host directory to a container directory, <br>typically used in development for hot reloading.","children":[],"payload":{"lines":"74,76"}}],"payload":{"lines":"71,76"}},{"content":"\n<p data-lines=\"76,77\">Basic Docker Volume Commands</p>","children":[{"content":"Create a Volume:","children":[{"content":"\n<pre><code class=\"language-bash\">  docker volume create my_volume\n</code></pre>","children":[],"payload":{"lines":"78,81"}}],"payload":{"lines":"77,81"}},{"content":"List Volumes:","children":[{"content":"\n<pre><code class=\"language-bash\">  docker volume <span class=\"hljs-built_in\">ls</span>\n</code></pre>","children":[],"payload":{"lines":"82,85"}}],"payload":{"lines":"81,85"}},{"content":"Inspect a Volume:","children":[{"content":"\n<pre><code class=\"language-bash\">  docker volume inspect my_volume\n</code></pre>","children":[],"payload":{"lines":"86,89"}}],"payload":{"lines":"85,89"}},{"content":"Remove a Volume:","children":[{"content":"\n<pre><code class=\"language-bash\">  docker volume <span class=\"hljs-built_in\">rm</span> my_volume\n</code></pre>","children":[],"payload":{"lines":"90,93"}}],"payload":{"lines":"89,93"}},{"content":"Remove Unused Volumes:","children":[{"content":"\n<pre><code class=\"language-bash\">  docker volume prune\n</code></pre>","children":[],"payload":{"lines":"94,98"}}],"payload":{"lines":"93,98"}}],"payload":{"lines":"76,98"}},{"content":"\n<p data-lines=\"98,99\">Using Volumes in Docker Containers</p>","children":[{"content":"Volumes are defined in the docker run command <br>or in a <code>docker-compose.yml</code> file.","children":[],"payload":{"lines":"99,100"}},{"content":"Docker Run with Volumes:","children":[{"content":"\n<pre><code class=\"language-sh\">  docker run -d --name my_container -v my_volume:/app/data my_image \n</code></pre>","children":[],"payload":{"lines":"101,104"}},{"content":"This command maps my_volume to <code>/app/data</code> in the container.","children":[],"payload":{"lines":"104,105"}}],"payload":{"lines":"100,105"}},{"content":"Bind Mounting a Local Directory (Development):","children":[{"content":"\n<pre><code class=\"language-sh\">  docker run -d --name my_container -v $(<span class=\"hljs-built_in\">pwd</span>)/my_folder:/app my_image \n</code></pre>","children":[],"payload":{"lines":"106,109"}},{"content":"Here, <code>$(pwd)/my_folder</code> (the host path) is mapped to <code>/app</code> in the container, so changes to files in <code>my_folder</code> will appear in the container.","children":[],"payload":{"lines":"109,111"}}],"payload":{"lines":"105,111"}}],"payload":{"lines":"98,111"}},{"content":"\n<p data-lines=\"111,112\">Using Volumes with Docker Compose</p>","children":[{"content":"In development, Docker Compose is particularly useful for setting up volumes with bind mounts.","children":[],"payload":{"lines":"112,113"}},{"content":"\n<pre><code class=\"language-sh\">  version: <span class=\"hljs-string\">'3'</span>\n  services:\n    app:\n      image: node:16\n      volumes:\n        - ./my_folder:/app  <span class=\"hljs-comment\"># bind mount for hot reloading</span>\n        - my_data:/app/data  <span class=\"hljs-comment\"># named volume</span>\n      working_dir: /app\n      <span class=\"hljs-built_in\">command</span>: npm run dev\n\n  volumes:\n    my_data: <span class=\"hljs-comment\"># This will be a named volume managed by Docker</span>\n</code></pre>","children":[],"payload":{"lines":"113,127"}},{"content":"<code>./my_folder:/app</code> is a bind mount that syncs the host folder to the container.","children":[],"payload":{"lines":"127,128"}},{"content":"<code>my_data:/app/data</code> is a named volume, which Docker manages independently of the host file structure.","children":[],"payload":{"lines":"128,130"}}],"payload":{"lines":"111,130"}},{"content":"\n<p data-lines=\"130,131\">Hot Reloading with Docker Compose</p>","children":[{"content":"If you’re in development and want to avoid rebuilding the container each time you change code:","children":[{"content":"Use a bind mount (e.g., <code>./my_folder:/app</code>) to map your local code folder to the container.","children":[],"payload":{"lines":"132,133"}},{"content":"Use tools like <code>nodemon</code> for <code>Node.js</code> or <code>webpack-dev-server</code> in React, so the application watches for file changes and reloads automatically.","children":[],"payload":{"lines":"133,135"}}],"payload":{"lines":"131,135"}}],"payload":{"lines":"130,135"}},{"content":"\n<p data-lines=\"135,136\">Benefits of Using Volumes</p>","children":[{"content":"<strong>Data Persistence</strong>: Ensures data is not lost when a container stops or is deleted.","children":[],"payload":{"lines":"136,137"}},{"content":"<strong>Data Sharing</strong>: Allows multiple containers to access the same data.","children":[],"payload":{"lines":"137,138"}},{"content":"<strong>Efficient Development</strong>: By using bind mounts, you can make changes on your host machine and see them reflected immediately in the container, which speeds up the development process.","children":[],"payload":{"lines":"138,139"}}],"payload":{"lines":"135,139"}}],"payload":{"lines":"63,64"}}]},{"colorFreezeLevel":2,"collapsed":false,"nodeMinHeight":30,"initialExpandLevel":2})</script>
</body>
</html>
